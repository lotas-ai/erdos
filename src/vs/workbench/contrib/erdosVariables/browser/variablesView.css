/*---------------------------------------------------------------------------------------------
 *  Copyright (C) 2025 Lotas Inc. All rights reserved.
 *  Licensed under the AGPL-3.0 License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Session group */
.variables-session-group {
	display: flex;
	align-items: center;
	padding: 4px 8px;
	font-weight: 600;
	background: var(--vscode-sideBarSectionHeader-background);
	border-bottom: 1px solid var(--vscode-sideBarSectionHeader-border);
}

.variables-session-group .session-icon {
	width: 16px;
	height: 16px;
	margin-right: 8px;
}

.variables-session-group .session-label {
	flex: 1;
}

/* Variable group */
.variables-group {
	display: flex;
	align-items: center;
	padding: 2px 0;
	font-size: 11px;
	text-transform: uppercase;
	font-weight: 700;
	background: var(--vscode-sideBarSectionHeader-background);
	border-bottom: 0.5px solid var(--vscode-sideBarSectionHeader-border);
	opacity: 0.8;
}

.variables-group .group-label {
	flex: 1;
}

.variables-group .group-badge {
	padding: 1px 6px;
	background: transparent;
	color: var(--vscode-foreground);
	opacity: 0.6;
	border-radius: 10px;
	font-size: 10px;
	font-weight: 600;
}

/* Variable item row */
.variables-item-row {
	display: flex;
	height: 22px;
	align-items: center;
	cursor: pointer;
	padding: 0 8px;
}

.variables-item-row:hover {
	background: var(--vscode-list-hoverBackground);
}

.variables-item-row.focused.selected {
	background: var(--vscode-list-activeSelectionBackground);
	color: var(--vscode-list-activeSelectionForeground);
}

/* Left section: indent + chevron + icon + name */
.variables-left {
	display: flex;
	align-items: center;
	width: 20%;
	min-width: 0;
}

.variables-indent {
	flex-shrink: 0;
}

.variables-chevron {
	width: 16px;
	height: 16px;
	flex-shrink: 0;
	opacity: 0.7;
}

.variables-icon {
	width: 16px;
	height: 16px;
	flex-shrink: 0;
	margin-right: 4px;
	opacity: 0.8;
}

.variables-name {
	flex: 1;
	overflow: hidden;
	white-space: nowrap;
	font-weight: 500;
	position: relative;
	mask-image: linear-gradient(to right, black calc(100% - 20px), transparent 100%);
	-webkit-mask-image: linear-gradient(to right, black calc(100% - 20px), transparent 100%);
}

/* Middle section: value */
.variables-value {
	width: 50%;
	overflow: hidden;
	white-space: nowrap;
	padding: 0 4px;
	color: var(--vscode-debugTokenExpression-string);
	opacity: 0.9;
	position: relative;
	mask-image: linear-gradient(to right, black calc(100% - 20px), transparent 100%);
	-webkit-mask-image: linear-gradient(to right, black calc(100% - 20px), transparent 100%);
}

/* Right section: type + delete button */
.variables-right {
	width: 30%;
	display: flex;
	justify-content: flex-end;
	align-items: center;
	gap: 8px;
}

.variables-type {
	opacity: 0.6;
	font-size: 0.9em;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
}

.variables-delete-btn {
	width: 20px;
	height: 20px;
	cursor: pointer;
	border-radius: 4px;
	padding: 2px;
	transition: opacity 0.2s ease;
	opacity: 0;
	pointer-events: auto;
	z-index: 1;
}

.variables-item-row:hover .variables-delete-btn {
	opacity: 1;
}

.variables-delete-btn:active {
	transform: scale(0.95);
}

/* Disable selection highlighting and color changes in variables tree */
.pane-body:has(.variables-session-group) .monaco-list-row.selected,
.pane-body:has(.variables-session-group) .monaco-list-row.focused,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.selected,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.focused,
.pane-body:has(.variables-session-group) .monaco-list-row.selected .monaco-tl-contents,
.pane-body:has(.variables-session-group) .monaco-list-row.focused .monaco-tl-contents {
	background-color: transparent !important;
	color: inherit !important;
	outline: none !important;
}

/* Prevent color changes for chevron/twistie and delete button on selection */
.pane-body:has(.variables-session-group) .monaco-list-row.selected .monaco-tl-twistie,
.pane-body:has(.variables-session-group) .monaco-list-row.focused .monaco-tl-twistie,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.selected .monaco-tl-twistie,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.focused .monaco-tl-twistie,
.pane-body:has(.variables-session-group) .monaco-list-row.selected .variables-delete-btn,
.pane-body:has(.variables-session-group) .monaco-list-row.focused .variables-delete-btn,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.selected .variables-delete-btn,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.focused .variables-delete-btn,
.pane-body:has(.variables-session-group) .monaco-list-row.selected .codicon,
.pane-body:has(.variables-session-group) .monaco-list-row.focused .codicon,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.selected .codicon,
.pane-body:has(.variables-session-group) .monaco-list:focus .monaco-list-row.focused .codicon {
	color: inherit !important;
}

/* Ensure hover still works */
.pane-body:has(.variables-session-group) .monaco-list-row:hover {
	background-color: var(--vscode-list-hoverBackground);
}
